{% extends "main.html" %}

{% block maincontent %}

<h1>Student Page</h1>

{% if student_link_text != "None" and student_link_text != None %}
<h4><a href="{{ student_link }}" target="_blank">{{ student_link_text }}</a></h4>
{% endif %}

{% if raffle_entries == 0 %}
  <h3>You have no raffle entries yet.</h3>
{% else %}
  {% if raffle_entries == 1 %}
    <h3>You have 1 raffle entry so far.</h3>
  {% else %}
    <h3>You have {{ raffle_entries }} raffle entries so far.</h3>
  {% endif %}
{% endif %}

{% if raffle_entries >= max_raffle_entries and max_raffle_entries != 0 %}
  <h3>Congratulations! You've scored all available raffle tickets! Good luck!</h3>
{% else %}
{% if or_rules|length > 0 or and_rules|length > 0 %}
  <h3>Here's the progress towards your next raffle entry!</h3>
{% endif %}
  {% for or_rule in or_rules %}
    {% if forloop.counter == 1 %}
      <h2> {{ or_rule.num_checkins }} from {{ or_rule.category}} category </h2>
    {% else %}
      <h2> OR {{ or_rule.num_checkins }} from {{ or_rule.category}} category </h2>
    {% endif %}
    <div class="progress width-page">
      <div class="progress-bar" role="progressbar" style="width: {{ or_rule.progress }}%" aria-valuenow="{{ or_rule.progress }}" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  {% endfor %}

{% for and_rule in and_rules %}

  {% if forloop.counter0 == 0 %}
    <h2> {{ and_rule.num_checkins }} from {{ and_rule.category}} category </h2>
  {% else %}
    <h2> AND {{ and_rule.num_checkins }} from {{ and_rule.category}} category </h2>
  {% endif %}

  <div class="progress width-page">
    <div class="progress-bar" role="progressbar" style="width: {{ and_rule.progress }}%" aria-valuenow="{{ and_rule.progress }}" aria-valuemin="0" aria-valuemax="100"></div>
  </div>

{% endfor %}

{% endif %}



{% autoescape off %}{{ table_of_contents }}{% endautoescape %}

{% for profile in profiles %}
<div class="row">
  <div class="col-sm-6 col-md-4">
    <div class="thumbnail">
      {% autoescape off %}{{ profile }}{% endautoescape %}
    </div>
  </div>
</div>
{% endfor %}

{% endblock %}
